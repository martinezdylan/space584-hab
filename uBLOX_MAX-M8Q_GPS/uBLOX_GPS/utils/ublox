#!/usr/bin/python
import RPi.GPIO as GPIO
import sys
import time
import smbus
import time
bus = smbus.SMBus(1)
ublox_addr = 0x42

def SetFlightMode():
  values = [0xB5, 0x62, 0x06, 0x24, 0x24, 0x00, 0xFF, 0xFF, 
            0x06, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10, 0x27, 
            0x00, 0x00, 0x05, 0x00, 0xFA, 0x00, 0xFA, 0x00, 
            0x64, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x00, 0x00, 
            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
            0x00, 0x00, 0x16, 0xDC]
  
  
  bus.write_i2c_block_data(ublox_addr, values[0], values[1:])

SetFlightMode()
try:
    while True:
      data = bus.read_byte_data(ublox_addr, 1)
      if data > 0x20 and data < 0x7f:
         print(str(unichr(data)))
      else:
         print format(data, '02x')
except KeyboardInterrupt: # If CTRL+C is pressed, exit cleanly:
    print "done"
